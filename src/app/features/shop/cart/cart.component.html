<app-page-wrapper>
  <section class="max-w-6xl mx-auto px-6 py-12 space-y-10">

    <!-- TITLE -->
    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Your Cart</h2>

    <!-- CART ITEMS -->
    <ng-container *ngIf="(cartItems$ | async)?.length; else emptyCart">
      <div class="space-y-6">
        <div class="grid gap-6">
          <app-cart-item
            *ngFor="let item of cartItems$ | async"
            [item]="item"
            (qtyChange)="updateQty($event)"
            (remove)="remove($event)"
            class="bg-white rounded-2xl shadow-md border border-gray-100 p-4 hover:shadow-lg transition-shadow duration-300"
          >
          </app-cart-item>
        </div>

        <!-- SUMMARY & ACTIONS -->
        <div class="bg-gray-50 rounded-3xl p-6 shadow-inner flex flex-col md:flex-row items-center justify-between gap-6">
          <div class="text-xl font-semibold text-gray-800">
            Total: <span class="text-green-600">${{ (cartTotal$ | async) || 0 | number:'1.2-2' }}</span>
          </div>
          <div class="flex flex-wrap gap-4">
            <button
              class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-2xl font-semibold shadow-md transition-transform hover:scale-105"
              (click)="clear()"
            >
              Clear Cart
            </button>
            <button
              class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-2xl font-semibold shadow-md transition-transform hover:scale-105"
              (click)="checkout()"
            >
              Checkout
            </button>
          </div>
        </div>
      </div>
    </ng-container>

    <!-- EMPTY CART -->
    <ng-template #emptyCart>
      <div class="text-center py-20 space-y-6">
        <div class="text-gray-400 text-6xl">ðŸ›’</div>
        <p class="text-gray-500 text-xl font-medium">Your cart is empty.</p>
        <button
          class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-2xl font-semibold shadow-md transition-transform hover:scale-105"
          (click)="router.navigate(['/shop/products'])"
        >
          Continue Shopping
        </button>
      </div>
    </ng-template>

  </section>
</app-page-wrapper>
